<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

    <!-- <form class = "submit" method="post" action="http://localhost:8000/upload"enctype="multipart/form-data">
        <label for="file">File</label>
        <input id="file" name="file" type="file" />
        <button>Upload</button>
      </form> -->
    <form class = "submit">
        <label for="file">Post</label>
        <input id="file" name="file" type="file"/>
        <button type="submit">Upload</button>
    </form>

    <form class = "submit2">
        <label for="file">Put</label>
        <input id="file" name="file" type="file"/>
        <button type="submit">Upload</button>
    </form>

      <script>
            $(document).ready(function(){
                
                $('.submit').unbind('submit').submit(function (e) {
                    
                $.ajax({
                    type: "POST",
                    url: "http://localhost:8000/upload",
                    crossDomain: true,
                    data: new FormData(this),
                    dataType: "json",
                    contentType: "multipart/form-data",
                    processData: false,
                    contentType: false,
                    headers: {
                    "Accept": "application/json"
                    }
                })
                .done(function (data) {
                    alert("poop");
                    $('input[name=title]').val('');
                });
                e.preventDefault(); // when method is called, the default action of the event will not be triggered.
                                    // meand that clicked submit button will not take the browser to a new URL.
                });
                $('.submit2').unbind('submit').submit(function (e) {

                $.ajax({
                    type: "PUT",
                    url: "http://localhost:8000/update",
                    crossDomain: true,
                    data: new FormData(this),
                    dataType: "json",
                    contentType: "multipart/form-data",
                    processData: false,
                    contentType: false,
                    headers: {
                    "Accept": "application/json"
                    }
                })
                .done(function (data) {
                    alert("poop");
                    $('input[name=title]').val('');
                });
                e.preventDefault(); // when method is called, the default action of the event will not be triggered.
                                    // meand that clicked submit button will not take the browser to a new URL.
                });

            });

      </script>
</body>
</html>